var p=Object.defineProperty;var u=(n,e,s)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var r=(n,e,s)=>(u(n,typeof e!="symbol"?e+"":e,s),s);import{P as o}from"./vendor.c2cc9365.js";const f=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}};f();var g={type:o.CANVAS,parent:"game",backgroundColor:"#33A5E7",scale:{width:96*2,height:160*2,mode:o.Scale.FIT,autoCenter:o.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},fps:10,antialias:!1};const y={path:"assets/img/makoto_ss.png",scale:1,frameW:64,frameH:64},k={path:"assets/img/taki_ss.png",scale:2,frameW:32,frameH:32},A={path:"assets/img/tanikou_kari.png",scale:2,frameW:32,frameH:32};var d={makoto:y,taki:k,tanikou:A};class v extends o.Physics.Arcade.Sprite{constructor(e,s,a,t){super(e,s,a,t);r(this,"charaTween");r(this,"isAnime");r(this,"name");r(this,"anime");return e.add.existing(this),e.physics.add.existing(this),this.isAnime=!1,this.name=t,this.setScale(d[t].scale),this.setAnime(),this}move(e,s){this.isAnime&&this.charaTween&&this.charaTween.stop(),this.isAnime=!0;let a=!1;const t={x:e,y:s};this.x<t.x&&(a=!0),this.flipX=a,this.charaTween=this.scene.tweens.add({targets:this,props:{x:{value:t.x,duration:Math.abs(t.x-this.x)*20},y:{value:t.y,duration:Math.abs(t.y-this.y)*20}},ease:"Sine.easeInOut",callbackScope:this,onComplete:()=>{this.anims.stop(),this.isAnime=!1,this.setFrame(0)}})}changeChara(e){this.name=e,this.setTexture(e),this.setScale(d[e].scale),this.body.setSize(20,32),this.anims.remove("move"),this.setAnime(e)}setAnime(e=this.name,s=0,a=3){this.anime=this.scene.anims.create({key:e,frames:this.anims.generateFrameNumbers(e,{start:s,end:a}),frameRate:10})}preUpdate(e,s){super.preUpdate(e,s),this.isAnime&&this.anims.play(this.name,!0)}}class w extends o.Scene{constructor(){super("GameScene");r(this,"isAnime");r(this,"charaTween");r(this,"player");r(this,"charaName");this.isAnime=!1,this.charaName="taki"}preload(){this.load.image("sky","assets/img/sky.png"),this.load.image("ground","assets/img/ground.png"),this.load.spritesheet("makoto","assets/img/makoto_ss.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("tanikou","assets/img/tanikou_kari.png",{frameWidth:28,frameHeight:32}),this.load.spritesheet("taki","assets/img/taki_ss.png",{frameWidth:32,frameHeight:32})}create(){const s=this.scale.width/2,a=this.scale.height,t=a/2,i=this.add.image(s,t,"sky"),h=this.add.image(s,a-32,"ground");i.scale=2,h.scale=2,this.player=new v(this,32,100,this.charaName),this.player.flipX=!0,this.player.setCollideWorldBounds(!0),this.input.on("pointerup",c=>{var m,l;(m=this.player)==null||m.changeChara(o.Utils.Array.GetRandom(["tanikou","taki","makoto"])),(l=this.player)==null||l.move(c.upX,c.upY)},this)}update(){}}new o.Game(Object.assign(g,{scene:[w]}));
